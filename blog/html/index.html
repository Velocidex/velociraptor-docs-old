<!DOCTYPE html><!--[if lt IE 7]>      <html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:og="http://ogp.me/ns#"
    xmlns:fb="https://www.facebook.com/2008/fbml" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:og="http://ogp.me/ns#"
    xmlns:fb="https://www.facebook.com/2008/fbml" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:og="http://ogp.me/ns#"
    xmlns:fb="https://www.facebook.com/2008/fbml" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:og="http://ogp.me/ns#"
    xmlns:fb="https://www.facebook.com/2008/fbml" class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="description" content="Velociraptor is a Digital Forensic and Incident Response tool.">
        <meta name="viewport" content="width=device-width">
        <title>Home &mdash; Velociraptor</title>
            <link rel="stylesheet" href="_static/normalize.css" type="text/css">
            <link rel="stylesheet" href="_static/sphinx.css" type="text/css">
            <link rel="stylesheet" href="_static/main.css" type="text/css">
            <link rel="stylesheet" href="_static/dark.css" type="text/css">
            <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
            <link rel="stylesheet" href="_static/font-awesome.min.css" type="text/css">
        <link rel="stylesheet" href="_static/velo.css" type="text/css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.1/jquery.fancybox.min.css" type="text/css" /><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" type="text/css" /><link rel="shortcut icon" href="_static/favicon.png" /><!-- Load modernizr and JQuery -->
<script src="_static/vendor/modernizr-2.6.2.min.js"></script>
<script src="//code.jquery.com/jquery-1.12.4.min.js"></script>
<script>window.jQuery || document.write('<script src="_static/vendor/jquery-1.8.2.min.js"><\/script>')</script>
<script src="_static/plugins.js"></script>
<script src="_static/main.js"></script>
<link rel="search" title="Search" href="search.html" /><link rel="next" title="Older" href="page2.html" /><link rel="alternate" type="application/rss+xml" title="RSS" href="rss.html" /><script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.7.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        SOURCELINK_SUFFIX: '.txt',
        HAS_SOURCE:  true
      };
    </script><script type="text/javascript" src="_static/underscore.js"></script><script type="text/javascript" src="_static/doctools.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script><script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script type="text/javascript" src="_static/disqus.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            // Adjusts document height if sidebar is taller
            var documentwrapper = document.getElementsByTagName('article')[0];
            var sidebar = document.getElementsByTagName('aside')[0];

            if (sidebar.offsetHeight > documentwrapper.offsetHeight)
            {
                documentwrapper.style.minHeight = sidebar.offsetHeight + "px";
            }

            // Scroll to content if on small screen
            if (screen.width < 480)
            {
                $(document).scrollTop(documentwrapper.offsetTop - 44);
            }
        });
    </script></head>
    <body role="document">
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

      <div id="container"><div class="header-container">
  <header class="wrapper clearfix" role="banner">
    <div class="title">
      <h1><a href="#">Velociraptor</a></h1>
      <h4>Hunting for evil - what Velociraptors do best!</h4>
    </div>
    <div class="logo">
      <img src="_static/velo.png"
           alt="Log" class="logo"/>

    </div>
    <nav class="big_nav" role="navigation">
      <ul>
        <li class="main-nav">
          <a href="pages/overview.html">Overview</a>
        </li>

        <li class="main-nav">
          <a href="reference/artifacts.html">Artifacts</a>
        </li><li class="quicklink"><div class="rss">
        <a href="rss.html" title="Subscribe via RSS"><span class="fa fa-lg fa-rss"></span></a>
    </div></li><li class="main-nav">
            <a href="https://github.com/Velocidex/velociraptor">
              <span class="fa fa-lg fa-github"></span>
            </a>
        </li>
      </ul>
    </nav>
  </header>
</div>

<div class="main-container" role="main"><div class="main wrapper body clearfix"><article role="article"><ul class="related clearfix">
            <li class="left"></li>
            <li class="right"><a href="page2.html">Older</a> &raquo; </li>
        </ul><div class="timestamp postmeta">
            <span>December 23, 2018</span>
        </div>
        <div class="section">
            <h1><a href="2018/12/23/deploying_velociraptor_with_oauth_sso.html">Deploying Velociraptor with OAuth SSO</a></h1>
<p>In the previous post we saw how to set up Velociraptor’s GUI over
SSL. This is great, but we still need to create users and assign them
passwords manually. The trouble with user account management is that
we can not enforce 2 factor authentication, or any password policies
or any of the usual enterprise requirements for user account
management. It is also difficult for users to remember yet another
password for a separate system, and so might make the password easily
guessable.</p>
<p>Most enterprise systems require an SSO mechanism to manage user
accounts and passwords. Manual user account management simply does not
scale!</p>
<p>In this post we discuss how to enable Google’s SSO authentication for
Velociraptor identity management.</p>
<p class="readmorewrapper"><a class="readmore" href="2018/12/23/deploying_velociraptor_with_oauth_sso.html#more">Read more...</a></p> 
 

        </div>
        <div class="postmeta">
        <div class="author">
            <span>Posted by Michael Cohen</span>
        </div>
        
        
        <div class="comments">
            <a href="https://docs.velociraptor.velocidex.com/blog/html/2018/12/23/deploying_velociraptor_with_oauth_sso.html#disqus_thread" data-disqus-identifier="2018/12/23/deploying_velociraptor_with_oauth_sso">Leave a comment</a>
        </div></div><div class="separator post_separator"></div><div class="timestamp postmeta">
            <span>December 22, 2018</span>
        </div>
        <div class="section">
            <h1><a href="2018/12/22/configuring_velociraptor_for_ssl.html">Configuring Velociraptor for SSL</a></h1>
<p>We have previously seen how to deploy a new Velociraptor server. For a
simple deployment we can have Velociraptor server and clients
provisioned in minutes.</p>
<p>Usually we deploy a specific Velociraptor deployment on our DFIR
engagements. We use cloud resources to provision the server and have
the clients connect to this cloud VM. A proper secure deployment of
Velociraptor will use SSL for securing both client communication and
protecting the web GUI.</p>
<p>In the past provisioning an SSL enabled web application was complex
and expensive - you had to create certificate signing requests,
interact with a CA. Pay for the certificates, then configure the
server. In particular you had to remember to renew the cert in 2 years
or your website suddenly broke!</p>
<p>Those days are over with the emergence of Lets Encrypt! and
autocert. These days applications can automatically provision their
own certificates. Velociraptor can manage its own certificates, fully
automatically - and then renew its certificates when the time comes
with no user intervention required.</p>
<p>In this blog post we will see how to configure a new Velociraptor
server in a cloud VM.</p>
<p class="readmorewrapper"><a class="readmore" href="2018/12/22/configuring_velociraptor_for_ssl.html#more">Read more...</a></p> 
 
 
 

        </div>
        <div class="postmeta">
        <div class="author">
            <span>Posted by Michael Cohen</span>
        </div>
        
        
        <div class="comments">
            <a href="https://docs.velociraptor.velocidex.com/blog/html/2018/12/22/configuring_velociraptor_for_ssl.html#disqus_thread" data-disqus-identifier="2018/12/22/configuring_velociraptor_for_ssl">Leave a comment</a>
        </div></div><div class="separator post_separator"></div><div class="timestamp postmeta">
            <span>December 11, 2018</span>
        </div>
        <div class="section">
            <h1><a href="2018/12/11/velociraptor_interactive_shell.html">Velociraptor Interactive Shell</a></h1>
<p>One of the interesting new features in the latest release of
Velociraptor is an interactive shell. One can interact with the end
point over the standard Velociraptor communication mechanism - an
encrypted and authenticated channel.</p>
<p>This feature is implemented by utilizing the Velociraptor event
monitoring, server side VQL queries. This post explores how these
components come together to deliver a responsive, interactive
workflow.</p>
<p class="readmorewrapper"><a class="readmore" href="2018/12/11/velociraptor_interactive_shell.html#more">Read more...</a></p> 
 
 
 

        </div>
        <div class="postmeta">
        <div class="author">
            <span>Posted by Michael Cohen</span>
        </div>
        
        
        <div class="comments">
            <a href="https://docs.velociraptor.velocidex.com/blog/html/2018/12/11/velociraptor_interactive_shell.html#disqus_thread" data-disqus-identifier="2018/12/11/velociraptor_interactive_shell">Leave a comment</a>
        </div></div><div class="separator post_separator"></div><div class="timestamp postmeta">
            <span>December 10, 2018</span>
        </div>
        <div class="section">
            <h1><a href="2018/12/10/server_side_vql_queries_and_events.html">Server side VQL queries and Escalation Events</a></h1>
<p>Previously we have seen how Velociraptor collects information from end
points using Velociraptor artifacts. These artifacts encapsulate user
created queries using the Velociraptor Query Language (VQL). The power
of VQL is that it provides for a very flexible way of specifying
exactly what should be collected from the client and how - without
needing to modify client code or deploy new clients!</p>
<p>This is not the whole story though! It is also possible to run VQL
queries on the server side! Similarly server side Velociraptor
artifacts can be used to customize the operation of the server -
without modifying any code or redeploying the server components.</p>
<p class="readmorewrapper"><a class="readmore" href="2018/12/10/server_side_vql_queries_and_events.html#more">Read more...</a></p> 
 
 
 
 
 

        </div>
        <div class="postmeta">
        <div class="author">
            <span>Posted by Michael Cohen</span>
        </div>
        
        
        <div class="comments">
            <a href="https://docs.velociraptor.velocidex.com/blog/html/2018/12/10/server_side_vql_queries_and_events.html#disqus_thread" data-disqus-identifier="2018/12/10/server_side_vql_queries_and_events">Leave a comment</a>
        </div></div><div class="separator post_separator"></div><div class="timestamp postmeta">
            <span>December 09, 2018</span>
        </div>
        <div class="section">
            <h1><a href="2018/12/09/more_on_client_event_collection.html">More on client event collection</a></h1>
<p>Previously we have seen that Velociraptor can monitor client events
using Event Artifacts. To recap, Event Artifacts are simply artifacts
which contain event VQL queries. Velociraptor’s VQL queries do not
have to terminate by themselves - instead VQL queries may run
indefinitely, trickling results over time.</p>
<p>This post takes another look at event queries and demonstrates how
these can be used to implement some interesting features.</p>
<p class="readmorewrapper"><a class="readmore" href="2018/12/09/more_on_client_event_collection.html#more">Read more...</a></p> 
 

        </div>
        <div class="postmeta">
        <div class="author">
            <span>Posted by Michael Cohen</span>
        </div>
        
        
        <div class="comments">
            <a href="https://docs.velociraptor.velocidex.com/blog/html/2018/12/09/more_on_client_event_collection.html#disqus_thread" data-disqus-identifier="2018/12/09/more_on_client_event_collection">Leave a comment</a>
        </div></div><div class="separator post_separator"></div><div class="timestamp postmeta">
            <span>November 13, 2018</span>
        </div>
        <div class="section">
            <h1><a href="2018/11/13/velociraptor_training_at_nzitf.html">Velociraptor training at NZITF</a></h1>
<p>We are very excited to run this full day training workshop at the New
Zealand Internet Engineering Task Force (NZITF) conference.</p>
<p class="readmorewrapper"><a class="readmore" href="2018/11/13/velociraptor_training_at_nzitf.html#more">Read more...</a></p> 

        </div>
        <div class="postmeta">
        <div class="author">
            <span>Posted by Michael Cohen</span>
        </div>
        
        
        <div class="comments">
            <a href="https://docs.velociraptor.velocidex.com/blog/html/2018/11/13/velociraptor_training_at_nzitf.html#disqus_thread" data-disqus-identifier="2018/11/13/velociraptor_training_at_nzitf">Leave a comment</a>
        </div></div><div class="separator post_separator"></div><div class="timestamp postmeta">
            <span>November 09, 2018</span>
        </div>
        <div class="section">
            <h1><a href="2018/11/09/event_queries_and_endpoint_monitoring.html">Event Queries and Endpoint Monitoring</a></h1>
<p>In previous posts we have seen how Velociraptor can run artifacts to
collect information from hosts. For example, we can collect WMI
queries, user accounts and files.</p>
<p>However it would be super awesome to be able to do this collection in
real time, as soon as an event of interest appears on the host, we
would like to have that collected on the server. This post describes
the new event monitoring framework and shows how Velociraptor can
collect things such as event logs, process execution and more in real
time.</p>
<p class="readmorewrapper"><a class="readmore" href="2018/11/09/event_queries_and_endpoint_monitoring.html#more">Read more...</a></p> 
 
 
 
 
 
 
 

        </div>
        <div class="postmeta">
        <div class="author">
            <span>Posted by Michael Cohen</span>
        </div>
        
        
        <div class="comments">
            <a href="https://docs.velociraptor.velocidex.com/blog/html/2018/11/09/event_queries_and_endpoint_monitoring.html#disqus_thread" data-disqus-identifier="2018/11/09/event_queries_and_endpoint_monitoring">Leave a comment</a>
        </div></div><div class="separator post_separator"></div><div class="timestamp postmeta">
            <span>September 29, 2018</span>
        </div>
        <div class="section">
            <h1><a href="2018/09/29/detecting_powershell_persistence_with_velociraptor_and_yara.html">Detecting powershell persistence with Velociraptor and Yara</a></h1>
<p>I was watching the SANS DFIR Summit 2018 videos on youtube and came
across Mari DeGrazia’s talk titled <a class="reference external" href="https://www.youtube.com/watch?v=JWC7fzhvAY8">“Finding and Decoding Malicious Powershell Scripts”</a>.
This is an excellent talk and it really contains
a wealth of information. It seems that Powershell is really popular
these days, allowing attacker to “live off the land” by installing
fully functional reverse shells and backdoors, in a few lines of
obfuscated scripts.</p>
<p class="readmorewrapper"><a class="readmore" href="2018/09/29/detecting_powershell_persistence_with_velociraptor_and_yara.html#more">Read more...</a></p> 
 
 
 
 
 
 
 

        </div>
        <div class="postmeta">
        <div class="author">
            <span>Posted by Michael Cohen</span>
        </div>
        
        
        <div class="comments">
            <a href="https://docs.velociraptor.velocidex.com/blog/html/2018/09/29/detecting_powershell_persistence_with_velociraptor_and_yara.html#disqus_thread" data-disqus-identifier="2018/09/29/detecting_powershell_persistence_with_velociraptor_and_yara">Leave a comment</a>
        </div></div><div class="separator post_separator"></div><div class="timestamp postmeta">
            <span>September 30, 2018</span>
        </div>
        <div class="section">
            <h1><a href="2018/09/30/velorciraptor_s_filesystem_s_accessors.html">Velorciraptor’s filesystem’s accessors</a></h1>
<p>The latest release of Velociraptor introduces the ability to access
raw NTFS volumes, allowing users to read files which are normally
locked by the operating system such as registry hives, pagefile and
other locked files. In addition, Velociraptor can now also read
<a class="reference external" href="https://docs.microsoft.com/en-us/windows/desktop/vss/volume-shadow-copy-service-portal">Volume Shadow Copy</a>
snapshots. The gives a kind of time-machine ability to allow the
investigator to look through the drive content at a previous point in
the past.</p>
<p>This blog post introduces the new features and describe how
Velociraptor’s filesystem accessors work to provide data from multiple
sources to VQL queries.</p>
<p class="readmorewrapper"><a class="readmore" href="2018/09/30/velorciraptor_s_filesystem_s_accessors.html#more">Read more...</a></p> 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

        </div>
        <div class="postmeta">
        <div class="author">
            <span>Posted by Michael Cohen</span>
        </div>
        
        
        <div class="comments">
            <a href="https://docs.velociraptor.velocidex.com/blog/html/2018/09/30/velorciraptor_s_filesystem_s_accessors.html#disqus_thread" data-disqus-identifier="2018/09/30/velorciraptor_s_filesystem_s_accessors">Leave a comment</a>
        </div></div><div class="separator post_separator"></div><div class="timestamp postmeta">
            <span>September 03, 2018</span>
        </div>
        <div class="section">
            <h1><a href="2018/09/03/velociraptor_walk_through_and_demo.html">Velociraptor walk through and demo</a></h1>
<p>I just uploaded a screencast of the latest Velociraptor - check it out
and play with it, and please provide feedback at
<a class="reference external" href="mailto:velociraptor-discuss%40googlegroups.com">velociraptor-discuss<span>@</span>googlegroups<span>.</span>com</a></p>
<p class="readmorewrapper"><a class="readmore" href="2018/09/03/velociraptor_walk_through_and_demo.html#more">Read more...</a></p>
        </div>
        <div class="postmeta">
        <div class="author">
            <span>Posted by Michael Cohen</span>
        </div>
        
        
        <div class="comments">
            <a href="https://docs.velociraptor.velocidex.com/blog/html/2018/09/03/velociraptor_walk_through_and_demo.html#disqus_thread" data-disqus-identifier="2018/09/03/velociraptor_walk_through_and_demo">Leave a comment</a>
        </div></div><div class="archive_link">
        <a href="archive.html"> &mdash; Blog Archive &mdash; </a>
    </div><ul class="related clearfix">
            <li class="left"></li>
            <li class="right"><a href="page2.html">Older</a> &raquo; </li>
        </ul></article><aside class="sidebar"><section><div class="widget">
    <h1>Recent Posts</h1>
    <ul><li>
            <a href="2018/12/23/deploying_velociraptor_with_oauth_sso.html">Deploying Velociraptor with OAuth SSO</a>
        </li><li>
            <a href="2018/12/22/configuring_velociraptor_for_ssl.html">Configuring Velociraptor for SSL</a>
        </li><li>
            <a href="2018/12/11/velociraptor_interactive_shell.html">Velociraptor Interactive Shell</a>
        </li><li>
            <a href="2018/12/10/server_side_vql_queries_and_events.html">Server side VQL queries and Escalation Events</a>
        </li><li>
            <a href="2018/12/09/more_on_client_event_collection.html">More on client event collection</a>
        </li><li>
            <a href="2018/11/13/velociraptor_training_at_nzitf.html">Velociraptor training at NZITF</a>
        </li><li>
            <a href="2018/11/09/event_queries_and_endpoint_monitoring.html">Event Queries and Endpoint Monitoring</a>
        </li><li>
            <a href="2018/09/29/detecting_powershell_persistence_with_velociraptor_and_yara.html">Detecting powershell persistence with Velociraptor and Yara</a>
        </li><li>
            <a href="2018/09/30/velorciraptor_s_filesystem_s_accessors.html">Velorciraptor’s filesystem’s accessors</a>
        </li><li>
            <a href="2018/09/03/velociraptor_walk_through_and_demo.html">Velociraptor walk through and demo</a>
        </li></ul>
</div>
</section><section><div class="widget" id="searchbox" role="search">
    <h1><a href="#searchbox">Search</a></h1>
    <form action="search.html" method="get">
        <input type="text" name="q" />
        <button type="submit"><span class="fa fa-search"></span></button>
    </form>
</div></section><section>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

  <div class='toc sidebar'>
    
  </div>


  <script>
    var cumulativeOffset = function(element) {
      var top = 0, left = 0;
      do {
       top += element.offsetTop  || 0;
       left += element.offsetLeft || 0;
       element = element.offsetParent;
      } while(element);

      return {
        top: top,
        left: left
      };
    };

  $(window).scroll(function() {
    var scroll = document.documentElement.scrollTop;

  if (scroll > 150) {
      var item = $("aside");
      var offset = cumulativeOffset(item[0]);

      // If the scrollbar overlaps the article do not obscure it.
      if (offset.left < $("article").width()) {
          return;
      };

      item.addClass("fixed");

      if (offset) {
        item.offset({
          left: offset.left
      });
     };
    } else {
      $("aside").removeClass("fixed");
    }
  });

  $(".toc ul").addClass('list-unstyled components');
  $(".toc ul li a").addClass('nav-link nav-item');
</script></section></aside></div> <!-- #main --></div> <!-- #main-container -->

        <div class="footer-container" role="contentinfo"><footer class="wrapper">&copy; Copyright 2018 Velocidex Innovations. Powered by <a href="http://www.tinkerer.me/">Tinkerer</a> and <a href="http://sphinx.pocoo.org/">Sphinx</a>.</footer></div> <!-- footer-container -->

      </div> <!--! end of #container --><script type="text/javascript">    var disqus_shortname = "velocidex-velociraptor";    disqus_count();</script><!--[if lt IE 7 ]>
          <script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script>
          <script>window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})</script>
        <![endif]-->
    </body>
</html>